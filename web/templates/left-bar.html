{{define "left-bar"}}
<div class="left-bar">
  <h1>RADDIT</h1>

  <form action="" method="post" id="SearchForm" name="SearchForm">
    <input type="search" name="search_bar" id="search_bar" list="suggestions" placeholder="Search...">
  </form>

  <datalist id="suggestions">
    {{range $a := .categories}}
    <option value="{{$a.Name}}">{{$a.Name}}</option>
    {{end}}
  </datalist>

  <img src="static/assets/img/home_logo.png" alt="home" id="logo" />
  <a href="/" id="home_bttn"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentcolor"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg></a>
  <div id="item">
    <h2>Following :</h2>
    {{if .user}}
    <ul class="no-bullets">
      {{ range .user.Follows }}
      <li>
        <span><a href="?catID={{ .ID }}">{{ .Name }}</a></span>
      </li>
      {{ else }}
      <li>No categorie found</li>
      {{ end }}
    </ul>
    {{end}}
  </div>
  <div id="item">
    <h2>Discover :</h2>
    {{if .user}}
    <ul class="no-bullets">
      {{range $index, $category := .categories}} {{$isFollowed := false}} {{range $.user.Follows}} {{if eq .ID $category.ID}} {{$isFollowed = true}} {{end}} {{end}} {{if not $isFollowed}}
      <li>
        <span><a href="?catID={{ $category.ID }}">{{ $category.Name }}</a></span>
      </li>
      {{end}} {{else}}
      <li>No category found</li>
      {{end}} {{else}} {{range .categories}}
      <li>
        <span><a href="?catID={{ .ID }}">{{ .Name }}</a></span>
      </li>
    </ul>
    {{end}} {{end}}
  </div>
</div>
{{end}}
